{"version":3,"file":"bundle.js","sources":["../src/index.js"],"sourcesContent":["function Lxwx({ onBefore = '', onAfter = '', onError = '' } = {}) {\n  let result = {}\n  const map = new Map([\n    [onBefore, 'onLxBefore'],\n    [onAfter, 'onLxAfter'],\n    [onError, 'onLxError']\n  ])\n  for (let key of map.keys()) {\n    if (Object.prototype.toString.call(key) === '[object Function]') {\n      result[map.get(key)] = key\n    } else {\n      result[map.get(key)] = () => { }\n    }\n  }\n  const obj = Object.assign({}, result, wx)\n  const lxwx = new Proxy(obj, {\n    get: function (target, prop) {\n      let _fun = target[prop]\n      if (!['onLxBefore', 'onLxAfter', 'onLxError'].includes(prop)\n        && Object.prototype.toString.call(target[prop]) === '[object Function]') {\n        _fun = function (args) {\n          const _arguments = arguments\n          obj.onLxBefore(`wx.${prop}`, _arguments)\n          const argsProxy = new Proxy(args, {\n            get: function (target2, prop2) {\n              if (prop2 === 'fail') {\n                obj.onLxError(`wx.${prop}`, args)\n              }\n              return target2[prop2]\n            }\n          })\n          new Promise((resolve, reject) => {\n            try {\n              target[prop](argsProxy)\n              resolve()\n            } catch (error) {\n              // obj.onLxError(`wx.${prop}`, error)\n              reject()\n            }\n          }).then(() => {\n            obj.onLxAfter(`wx.${prop}`, _arguments)\n          })\n        }\n      }\n      return _fun\n    }\n  })\n  return lxwx\n}\nexport default Lxwx;"],"names":["onBefore","onAfter","onError","result","map","Map","keys","key","Object","prototype","toString","call","get","obj","assign","wx","Proxy","target","prop","_fun","includes","args","_arguments","arguments","onLxBefore","argsProxy","target2","prop2","onLxError","Promise","resolve","reject","error","then","onLxAfter"],"mappings":"8uCAAA,eAAgBA,wEAA8C,IAA9CA,UAAW,KAAIC,gBAAAA,SAAU,SAAIC,QACvCC,EAAS,GACPC,EAAM,IAAIC,IAAI,CAClB,CAACL,EAAU,cACX,CAACC,EAAS,aACV,YALmD,KAKzC,mBAEIG,EAAIE,uCAAQ,KAAnBC,UACqC,sBAAxCC,OAAOC,UAAUC,SAASC,KAAKJ,GACjCJ,EAAOC,EAAIQ,IAAIL,IAAQA,EAEvBJ,EAAOC,EAAIQ,IAAIL,IAAQ,gDAGrBM,EAAML,OAAOM,OAAO,GAAIX,EAAQY,WACzB,IAAIC,MAAMH,EAAK,CAC1BD,IAAK,SAAUK,EAAQC,OACjBC,EAAOF,EAAOC,UAGhBC,GAFG,CAAC,aAAc,YAAa,aAAaC,SAASF,IACD,sBAAjDV,OAAOC,UAAUC,SAASC,KAAKM,EAAOC,IAClC,SAAUG,OACTC,EAAaC,UACnBV,EAAIW,wBAAiBN,GAAQI,OACvBG,EAAY,IAAIT,MAAMK,EAAM,CAChCT,IAAK,SAAUc,EAASC,SACR,SAAVA,GACFd,EAAIe,uBAAgBV,GAAQG,GAEvBK,EAAQC,UAGfE,QAAQ,SAACC,EAASC,OAElBd,EAAOC,GAAMO,GACbK,IACA,MAAOE,GAEPD,OAEDE,KAAK,WACNpB,EAAIqB,uBAAgBhB,GAAQI,MAI3BH"}